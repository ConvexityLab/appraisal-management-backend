# Appraisal Management Platform - Production Environment Configuration
# Copy this file to .env and configure with your actual values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=8080
NODE_ENV=production

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
JWT_SECRET=your-production-jwt-secret-minimum-32-characters
JWT_EXPIRATION=24h

# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000    # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100    # Maximum requests per window

# CORS configuration (comma-separated list)
ALLOWED_ORIGINS=https://your-domain.com,https://app.your-domain.com

# =============================================================================
# AZURE CONFIGURATION (USING MANAGED IDENTITY - NO KEYS REQUIRED!)
# =============================================================================

# Azure Cosmos DB
AZURE_COSMOS_ENDPOINT=https://your-cosmos-account.documents.azure.com:443/
COSMOS_DATABASE_NAME=appraisal-management
# NOTE: No AZURE_COSMOS_KEY needed - using managed identity!

# Azure Service Bus
AZURE_SERVICE_BUS_NAMESPACE=your-servicebus.servicebus.windows.net
# NOTE: No connection string needed - using managed identity!

# Azure Key Vault
AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/
AZURE_CLIENT_ID=your-service-principal-client-id
AZURE_CLIENT_SECRET=your-service-principal-secret
AZURE_TENANT_ID=your-azure-tenant-id

# Azure Application Insights
AZURE_APPLICATION_INSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================

# Google Maps Platform
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
GOOGLE_PLACES_API_KEY=your-google-places-api-key

# SmartyStreets Address Validation
SMARTYSTREETS_AUTH_ID=your-smartystreets-auth-id
SMARTYSTREETS_AUTH_TOKEN=your-smartystreets-auth-token

# US Census API
CENSUS_API_KEY=your-census-api-key

# Azure OpenAI
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-azure-openai-key
AZURE_OPENAI_API_VERSION=2024-02-01

# =============================================================================
# DYNAMIC CODE EXECUTION
# =============================================================================
DYNAMIC_CODE_TIMEOUT=5000           # Timeout in milliseconds
DYNAMIC_CODE_MEMORY_LIMIT=16777216  # Memory limit in bytes (16MB)

# =============================================================================
# EMULATOR SETTINGS (DEVELOPMENT ONLY)
# =============================================================================
# Set these to 'true' ONLY for local development with emulators
COSMOS_USE_EMULATOR=false           # Use Cosmos DB Emulator
SERVICE_BUS_USE_EMULATOR=false      # Use Service Bus Emulator  
WEB_PUBSUB_USE_EMULATOR=false       # Use Web PubSub Emulator
MONGODB_USE_LOCAL=false             # Use local MongoDB

# =============================================================================
# NOTIFICATION ENDPOINTS
# =============================================================================
WEBSOCKET_NOTIFICATION_URL=wss://your-domain.com/notifications
WEBHOOK_NOTIFICATION_URL=https://your-domain.com/webhooks/notifications
NOTIFICATION_EMAIL=admin@your-domain.com
NOTIFICATION_SMS=+1234567890

# =============================================================================
# EMAIL & NOTIFICATIONS
# =============================================================================
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASS=your-email-password
SMTP_FROM_EMAIL=noreply@your-domain.com

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true

# Health check configuration
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# DEVELOPMENT/EMULATOR FLAGS (DO NOT SET IN PRODUCTION)
# =============================================================================
# COSMOS_USE_EMULATOR=true          # Only for local development
# MONGODB_USE_LOCAL=true            # Only for local development  
# SERVICE_BUS_USE_EMULATOR=true     # Only for local development
# WEB_PUBSUB_USE_EMULATOR=true      # Only for local development
# WEBSOCKET_USE_LOCAL=true          # Only for local development
# WEBHOOK_USE_LOCAL=true            # Only for local development

# =============================================================================
# API KEY CONFIGURATION
# =============================================================================
# Premium API keys (comma-separated list)
PREMIUM_API_KEYS=premium-key-1,premium-key-2,premium-key-3

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_SWAGGER_UI=false             # Disable in production for security
ENABLE_DEVELOPMENT_ENDPOINTS=false  # Disable development-only endpoints
ENABLE_DETAILED_ERROR_RESPONSES=false  # Hide detailed errors in production

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================
BACKUP_STORAGE_CONNECTION_STRING=your-backup-storage-connection-string
BACKUP_CONTAINER_NAME=appraisal-backups
BACKUP_RETENTION_DAYS=90